<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">
	
<div layout:fragment="content">
 <section class="contact-section spad">
        <div class="container" style="margin-bottom: 80px;">
            <div class="row" style="display: flex;flex-direction: column;align-items: center;align-content: center;">
                <div >
                    <div class="contact-text" style="width: 700px;">
                        <h2 style="text-align: center;border-bottom: inset; margin-bottom:10px;">SignUp</h2>
                        <p style="margin-bottom: 50px; text-align:center;">* 해당 표시가 되있는 항목은 필수 입력사항입니다.</p>

                    </div>
                </div>
                <div style="width: 500px;">

						<form role="form" action="/member/signUp" method="post" th:object="${memberFormDto}">
							<div class="form-group row">
								<div class="col-md-12">
									<label th:for="name" class="text-black">이름</label> 
									
									<!-- th:field => id, name 속성을 자동으로 생성해준다.  -->
									<input type="text" class="form-control" placeholder="*이름"
										th:field="*{name}">
									<p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class = "fieldError">Incorrect Data</p>
								</div>
							</div>

							<div class="form-group row">
								<div class="col-md-12">
									<label th:for="email" class="text-black">이메일</label> <input
										type="email" class="form-control" placeholder="*이메일"
										th:field="*{email}">
									<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class = "fieldError">Incorrect Data</p>
								</div>
							</div>
							<div class="form-group row">
								<div class="col-md-12">
									<label th:for="phone" class="text-black">휴대폰번호</label> <input
										type="text" class="form-control" placeholder="*휴대폰번호"
										th:field="*{phone}">
									<p th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class = "fieldError">Incorrect Data</p>
								</div>
							</div>

							<div class="form-group row">
								<div class="col-md-12">
									<label th:for="password" class="text-black">비밀번호</label> <input
										type="password" class="form-control"
										placeholder="*비밀번호" th:field="*{password}">
									<p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class = "fieldError">Incorrect Data</p>
								</div>
							</div>

							<div class="form-group row">
								<div class="col-md-12">
									<label th:for="address" class="text-black">주소</label> <input
										type="text" class="form-control" placeholder="주소"
										th:field="*{address}">
									<p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class = "fieldError">Incorrect Data</p>
								</div>
							</div>


							<div class="form-group" style="display: flex;margin-top: 35px;">
								<div class="col-md-12" style="display: flex;flex-direction: column;align-items: center; margin-right: 10px;">
									<button type="submit" class="memberForm" style="width: 170px;">회원가입</button>
								</div>
							</div>
							<input type="hidden" th:name="${_csrf.parameterName}"
								th:value="${_csrf.token}">
						</form>
						</div>
						</div>
						</div>
						</section>

</div>
  <!-- 각 페이지의 스크립트가 작성될 위치 -->
<th:block layout:fragment="script">
	<script th:inline="javascript">
		//회원가입이 실패했을때 에러메세지를 보여줌 
		var errorMessage = [[${errorMessage}]];
		
		if(errorMessage != null){
			alert(errorMessage);
		}
	</script>
</th:block>	
</html>